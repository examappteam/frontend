{"ast":null,"code":"var _jsxFileName = \"D:\\\\Ohjelmat\\\\ExamApp\\\\exam-app\\\\src\\\\components\\\\teacher-exam-video-page\\\\TwilioConnection.js\";\nimport React from \"react\";\nimport \"../../style.css\";\n\nfunction TwilioConnection() {\n  var student_token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2LTE1NDk2NTI5OTciLCJpc3MiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2Iiwic3ViIjoiQUM0ZTJmN2EyYmFiNGM2MTBhMjIwMGIwOGVhZDdlNTExYiIsImV4cCI6MTU0OTY1NjU5NywiZ3JhbnRzIjp7ImlkZW50aXR5IjoiU3R1ZGVudCIsInZpZGVvIjp7InJvb20iOiJUZXN0Um9vbSJ9fX0.D0vVzIas7Ck2V7oiOvLStFjYCPRmednJrzse6FNnIbI\";\n  var test_token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2LTE1NDk2NTI0ODYiLCJpc3MiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2Iiwic3ViIjoiQUM0ZTJmN2EyYmFiNGM2MTBhMjIwMGIwOGVhZDdlNTExYiIsImV4cCI6MTU0OTY1NjA4NiwiZ3JhbnRzIjp7ImlkZW50aXR5IjoiVGVzdFRlYWNoZXIiLCJ2aWRlbyI6eyJyb29tIjoiVGVzdFJvb20ifX19.7lgWrv0_JoLTWaVLTKEzggKDbtErtQNEMQSgdGGGtA0\";\n  var localTracks = null;\n\n  var Video = require(\"twilio-video\"); // Request data, audio and video tracks\n\n\n  Video.createLocalTracks().then(function (tracks) {\n    var localMediaContainer = document.getElementById('teacher-preview');\n    var localDataTrack = new Video.LocalDataTrack();\n    localTracks = tracks;\n    localTracks.push(localDataTrack);\n    localTracks.forEach(function (track) {\n      if (track.kind === \"data\") {\n        return;\n      }\n\n      localMediaContainer.appendChild(track.attach());\n    });\n  }).then(function () {\n    //Create token here\n    Video.connect(test_token, {\n      name: \"TestRoom\",\n      video: true,\n      audio: true,\n      tracks: localTracks\n    }).then(function (room) {\n      console.log(\"Connected to room: \");\n      console.log(room.name);\n      Video.connect(student_token, {\n        name: \"TestRoom\",\n        video: false,\n        audio: false\n      }).then(function (room) {\n        console.log(\"Connected student to room: \" + room.name);\n        console.log(\"Room participants\" + room.participants);\n        room.participants.forEach(function (participant) {\n          console.log(\"Participant identity: \" + participant.identity);\n          participant.tracks.forEach(function (track) {\n            console.log(\"Track: \" + track.kind);\n            var student_video = document.getElementById('student-video');\n            student_video.appendChild(track.attach());\n          });\n        });\n      });\n    });\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"pure-g\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"pure-u-1 pure-u-md-1-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"teacher-preview\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    class: \"pure-u-1 pure-u-md-1-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"student-video\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    class: \"pure-u-1 pure-u-md-1-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }))));\n}\n\nexport default TwilioConnection;","map":{"version":3,"sources":["D:\\Ohjelmat\\ExamApp\\exam-app\\src\\components\\teacher-exam-video-page\\TwilioConnection.js"],"names":["React","TwilioConnection","student_token","test_token","localTracks","Video","require","createLocalTracks","then","tracks","localMediaContainer","document","getElementById","localDataTrack","LocalDataTrack","push","forEach","track","kind","appendChild","attach","connect","name","video","audio","room","console","log","participants","participant","identity","student_video"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport \"../../style.css\"\r\n\r\nfunction TwilioConnection() {\r\n    const student_token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2LTE1NDk2NTI5OTciLCJpc3MiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2Iiwic3ViIjoiQUM0ZTJmN2EyYmFiNGM2MTBhMjIwMGIwOGVhZDdlNTExYiIsImV4cCI6MTU0OTY1NjU5NywiZ3JhbnRzIjp7ImlkZW50aXR5IjoiU3R1ZGVudCIsInZpZGVvIjp7InJvb20iOiJUZXN0Um9vbSJ9fX0.D0vVzIas7Ck2V7oiOvLStFjYCPRmednJrzse6FNnIbI\";\r\n    const test_token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2LTE1NDk2NTI0ODYiLCJpc3MiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2Iiwic3ViIjoiQUM0ZTJmN2EyYmFiNGM2MTBhMjIwMGIwOGVhZDdlNTExYiIsImV4cCI6MTU0OTY1NjA4NiwiZ3JhbnRzIjp7ImlkZW50aXR5IjoiVGVzdFRlYWNoZXIiLCJ2aWRlbyI6eyJyb29tIjoiVGVzdFJvb20ifX19.7lgWrv0_JoLTWaVLTKEzggKDbtErtQNEMQSgdGGGtA0\";\r\n    var localTracks = null;\r\n    \r\n    const Video = require(\"twilio-video\");\r\n    // Request data, audio and video tracks\r\n    Video.createLocalTracks().then(function(tracks) {\r\n      var localMediaContainer = document.getElementById('teacher-preview');\r\n      var localDataTrack = new Video.LocalDataTrack();\r\n      localTracks = tracks;\r\n      localTracks.push(localDataTrack);\r\n      localTracks.forEach(function(track) {\r\n        if(track.kind === \"data\") {return;}\r\n        localMediaContainer.appendChild(track.attach());\r\n      });\r\n    }).then(function() {\r\n        //Create token here\r\n\r\n        Video.connect(test_token, {\r\n            name: \"TestRoom\",\r\n            video: true,\r\n            audio: true,\r\n            tracks: localTracks\r\n        }).then(function(room) {\r\n            console.log(\"Connected to room: \");\r\n            console.log(room.name);\r\n            Video.connect(student_token, {\r\n                name: \"TestRoom\",\r\n                video:false,\r\n                audio:false,\r\n            }).then(function(room) {\r\n                console.log(\"Connected student to room: \" + room.name);\r\n                console.log(\"Room participants\" + room.participants);\r\n                room.participants.forEach(function(participant) {\r\n                        console.log(\"Participant identity: \" + participant.identity);\r\n                        participant.tracks.forEach(function(track) {\r\n                            console.log(\"Track: \" + track.kind)\r\n                            var student_video = document.getElementById('student-video');\r\n                            student_video.appendChild(track.attach());\r\n                        })\r\n                    })\r\n                })\r\n            })\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <div class=\"pure-g\">\r\n                <div class=\"pure-u-1 pure-u-md-1-3\" ><p><div id=\"teacher-preview\"></div></p></div>\r\n                <div class=\"pure-u-1 pure-u-md-1-3\"><p><div id=\"student-video\"></div></p></div>\r\n                <div class=\"pure-u-1 pure-u-md-1-3\"><p></p></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TwilioConnection"]},"metadata":{},"sourceType":"module"}