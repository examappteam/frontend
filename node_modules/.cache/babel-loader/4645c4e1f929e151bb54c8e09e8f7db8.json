{"ast":null,"code":"var _jsxFileName = \"D:\\\\Ohjelmat\\\\ExamApp\\\\exam-app\\\\src\\\\components\\\\teacher-exam-video-page\\\\TwilioConnection.js\";\nimport React from \"react\";\nimport \"../../style.css\";\n\nfunction TwilioConnection() {\n  var student_token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2LTE1NDk2NTE2NjYiLCJpc3MiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2Iiwic3ViIjoiQUM0ZTJmN2EyYmFiNGM2MTBhMjIwMGIwOGVhZDdlNTExYiIsImV4cCI6MTU0OTY1NTI2NiwiZ3JhbnRzIjp7ImlkZW50aXR5IjoiU3R1ZGVudCIsInZpZGVvIjp7InJvb20iOiJUZXN0Um9vbSJ9fX0.8Du2oDs6sF5ZWlVbleb1fq2MC-A1QwnI3Eu7zqvv-_I\";\n  var test_token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2LTE1NDk2NDg2NjQiLCJpc3MiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2Iiwic3ViIjoiQUM0ZTJmN2EyYmFiNGM2MTBhMjIwMGIwOGVhZDdlNTExYiIsImV4cCI6MTU0OTY1MjI2NCwiZ3JhbnRzIjp7ImlkZW50aXR5IjoiVGVzdFRlYWNoZXIiLCJ2aWRlbyI6eyJyb29tIjoiVGVzdFJvb20ifX19.w8SkrdAt6SUa39FDTFttANI2kz779a4up8apBbB1jdQ\";\n  var localTracks = null;\n\n  var Video = require(\"twilio-video\"); // Request data, audio and video tracks\n\n\n  Video.createLocalTracks().then(function (tracks) {\n    var localMediaContainer = document.getElementById('teacher-preview');\n    var localDataTrack = new Video.LocalDataTrack();\n    localTracks = tracks;\n    localTracks.push(localDataTrack);\n    localTracks.forEach(function (track) {\n      if (track.kind === \"data\") {\n        return;\n      }\n\n      localMediaContainer.appendChild(track.attach());\n    });\n  }).then(function () {});\n  Video.connect(student_token, {\n    name: \"TestRoom\",\n    video: false,\n    audio: false\n  }).then(function (room) {\n    console.log(\"Connected student to room: \" + room.name);\n    room.participants.forEach(function (participant) {\n      if (participant.identity === \"TestTeacher\") {\n        participant.tracks.forEach(function (track) {\n          if (track.kind === \"data\") {\n            return;\n          }\n\n          var student_video = document.getElementById(\"student-video\");\n          var mediaElement = track.attach();\n          student_video.appendChild(mediaElement);\n        });\n      }\n    });\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"pure-g\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"pure-u-1 pure-u-md-1-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"teacher-preview\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    class: \"pure-u-1 pure-u-md-1-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"student-video\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    class: \"pure-u-1 pure-u-md-1-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }))));\n}\n\nexport default TwilioConnection;","map":{"version":3,"sources":["D:\\Ohjelmat\\ExamApp\\exam-app\\src\\components\\teacher-exam-video-page\\TwilioConnection.js"],"names":["React","TwilioConnection","student_token","test_token","localTracks","Video","require","createLocalTracks","then","tracks","localMediaContainer","document","getElementById","localDataTrack","LocalDataTrack","push","forEach","track","kind","appendChild","attach","connect","name","video","audio","room","console","log","participants","participant","identity","student_video","mediaElement"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;;AAEA,SAASC,gBAAT,GAA4B;AACxB,MAAMC,aAAa,GAAG,qZAAtB;AACA,MAAMC,UAAU,GAAG,0ZAAnB;AACA,MAAIC,WAAW,GAAG,IAAlB;;AAEA,MAAMC,KAAK,GAAGC,OAAO,CAAC,cAAD,CAArB,CALwB,CAMxB;;;AACAD,EAAAA,KAAK,CAACE,iBAAN,GAA0BC,IAA1B,CAA+B,UAASC,MAAT,EAAiB;AAC9C,QAAIC,mBAAmB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAA1B;AACA,QAAIC,cAAc,GAAG,IAAIR,KAAK,CAACS,cAAV,EAArB;AACAV,IAAAA,WAAW,GAAGK,MAAd;AACAL,IAAAA,WAAW,CAACW,IAAZ,CAAiBF,cAAjB;AACAT,IAAAA,WAAW,CAACY,OAAZ,CAAoB,UAASC,KAAT,EAAgB;AAClC,UAAGA,KAAK,CAACC,IAAN,KAAe,MAAlB,EAA0B;AAAC;AAAQ;;AACnCR,MAAAA,mBAAmB,CAACS,WAApB,CAAgCF,KAAK,CAACG,MAAN,EAAhC;AACD,KAHD;AAID,GATD,EASGZ,IATH,CASQ,YAAW,CAElB,CAXD;AAcAH,EAAAA,KAAK,CAACgB,OAAN,CAAcnB,aAAd,EAA6B;AACzBoB,IAAAA,IAAI,EAAE,UADmB;AAEzBC,IAAAA,KAAK,EAAC,KAFmB;AAGzBC,IAAAA,KAAK,EAAC;AAHmB,GAA7B,EAIGhB,IAJH,CAIQ,UAASiB,IAAT,EAAe;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAgCF,IAAI,CAACH,IAAjD;AACAG,IAAAA,IAAI,CAACG,YAAL,CAAkBZ,OAAlB,CAA0B,UAASa,WAAT,EAAsB;AAC5C,UAAGA,WAAW,CAACC,QAAZ,KAAyB,aAA5B,EAA2C;AACvCD,QAAAA,WAAW,CAACpB,MAAZ,CAAmBO,OAAnB,CAA2B,UAASC,KAAT,EAAgB;AACvC,cAAGA,KAAK,CAACC,IAAN,KAAe,MAAlB,EAAyB;AAAC;AAAQ;;AAClC,cAAIa,aAAa,GAAGpB,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAApB;AACA,cAAIoB,YAAY,GAAGf,KAAK,CAACG,MAAN,EAAnB;AACAW,UAAAA,aAAa,CAACZ,WAAd,CAA0Ba,YAA1B;AACH,SALD;AAMH;AACJ,KATD;AAUH,GAhBD;AAkBA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,KAAK,EAAC,wBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAK,IAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CAArC,CADJ,EAEI;AAAK,IAAA,KAAK,EAAC,wBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAK,IAAA,EAAE,EAAC,eAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CAApC,CAFJ,EAGI;AAAK,IAAA,KAAK,EAAC,wBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAApC,CAHJ,CADJ,CADJ;AASH;;AAED,eAAe/B,gBAAf","sourcesContent":["import React from \"react\"\r\nimport \"../../style.css\"\r\n\r\nfunction TwilioConnection() {\r\n    const student_token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2LTE1NDk2NTE2NjYiLCJpc3MiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2Iiwic3ViIjoiQUM0ZTJmN2EyYmFiNGM2MTBhMjIwMGIwOGVhZDdlNTExYiIsImV4cCI6MTU0OTY1NTI2NiwiZ3JhbnRzIjp7ImlkZW50aXR5IjoiU3R1ZGVudCIsInZpZGVvIjp7InJvb20iOiJUZXN0Um9vbSJ9fX0.8Du2oDs6sF5ZWlVbleb1fq2MC-A1QwnI3Eu7zqvv-_I\";\r\n    const test_token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2LTE1NDk2NDg2NjQiLCJpc3MiOiJTSzU1MDRiYjllMWVmMTkwYjg0Y2JhMzdmMmU0NTBiMDA2Iiwic3ViIjoiQUM0ZTJmN2EyYmFiNGM2MTBhMjIwMGIwOGVhZDdlNTExYiIsImV4cCI6MTU0OTY1MjI2NCwiZ3JhbnRzIjp7ImlkZW50aXR5IjoiVGVzdFRlYWNoZXIiLCJ2aWRlbyI6eyJyb29tIjoiVGVzdFJvb20ifX19.w8SkrdAt6SUa39FDTFttANI2kz779a4up8apBbB1jdQ\";\r\n    var localTracks = null;\r\n    \r\n    const Video = require(\"twilio-video\");\r\n    // Request data, audio and video tracks\r\n    Video.createLocalTracks().then(function(tracks) {\r\n      var localMediaContainer = document.getElementById('teacher-preview');\r\n      var localDataTrack = new Video.LocalDataTrack();\r\n      localTracks = tracks;\r\n      localTracks.push(localDataTrack);\r\n      localTracks.forEach(function(track) {\r\n        if(track.kind === \"data\") {return;}\r\n        localMediaContainer.appendChild(track.attach());\r\n      });\r\n    }).then(function() {\r\n        \r\n    });\r\n    \r\n    \r\n    Video.connect(student_token, {\r\n        name: \"TestRoom\",\r\n        video:false,\r\n        audio:false,\r\n    }).then(function(room) {\r\n        console.log(\"Connected student to room: \" + room.name);\r\n        room.participants.forEach(function(participant) {\r\n            if(participant.identity === \"TestTeacher\") {\r\n                participant.tracks.forEach(function(track) {\r\n                    if(track.kind === \"data\"){return;}\r\n                    var student_video = document.getElementById(\"student-video\")\r\n                    var mediaElement = track.attach();\r\n                    student_video.appendChild(mediaElement);\r\n                })\r\n            }\r\n        })\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <div class=\"pure-g\">\r\n                <div class=\"pure-u-1 pure-u-md-1-3\" ><p><div id=\"teacher-preview\"></div></p></div>\r\n                <div class=\"pure-u-1 pure-u-md-1-3\"><p><div id=\"student-video\"></div></p></div>\r\n                <div class=\"pure-u-1 pure-u-md-1-3\"><p></p></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TwilioConnection"]},"metadata":{},"sourceType":"module"}