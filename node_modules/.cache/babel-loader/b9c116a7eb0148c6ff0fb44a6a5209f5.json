{"ast":null,"code":"\"use strict\";\n/**\n * @fileoverview WebRTC\n */\n\nmodule.exports = function (SIP, environment) {\n  var WebRTC;\n  WebRTC = {};\n  WebRTC.MediaHandler = require('./WebRTC/MediaHandler')(SIP);\n  WebRTC.MediaStreamManager = require('./WebRTC/MediaStreamManager')(SIP, environment);\n\n  var _isSupported;\n\n  WebRTC.isSupported = function () {\n    if (_isSupported !== undefined) {\n      return _isSupported;\n    }\n\n    WebRTC.MediaStream = environment.MediaStream;\n    WebRTC.getUserMedia = environment.getUserMedia;\n    WebRTC.RTCPeerConnection = environment.RTCPeerConnection;\n    WebRTC.RTCSessionDescription = environment.RTCSessionDescription;\n\n    if (WebRTC.RTCPeerConnection && WebRTC.RTCSessionDescription) {\n      if (WebRTC.getUserMedia) {\n        WebRTC.getUserMedia = SIP.Utils.promisify(environment, 'getUserMedia');\n      }\n\n      _isSupported = true;\n    } else {\n      _isSupported = false;\n    }\n\n    return _isSupported;\n  };\n\n  return WebRTC;\n};","map":null,"metadata":{},"sourceType":"script"}